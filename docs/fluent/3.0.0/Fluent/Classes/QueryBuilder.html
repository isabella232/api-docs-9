<!DOCTYPE html>
<html lang="en">
  <head>
    <title>QueryBuilder Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/QueryBuilder" class="dashAnchor"></a>

    <a title="QueryBuilder Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Fluent Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/vapor/fluent">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fapi%2Evapor%2Ecodes%2Ffluent%2F3%2E0%2E0%2FFluent%2Fdocsets%2FFluent%2Exml">
            <img class="header-icon" src="../img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">Fluent Reference</a>
      <img class="carat" src="../img/carat.png" />
      QueryBuilder Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CacheEntry.html">CacheEntry</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/FluentProvider.html">FluentProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/MigrateCommand.html">MigrateCommand</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/MigrationLog.html">MigrationLog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/QueryBuilder.html">QueryBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RevertCommand.html">RevertCommand</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SchemaCreator.html">SchemaCreator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SchemaUpdater.html">SchemaUpdater</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global Variables.html#/s:6Fluent18pivotNameConnectorSSvp">pivotNameConnector</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ModelEvent.html">ModelEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/CommandConfig.html">CommandConfig</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/DatabaseConnectable.html">DatabaseConnectable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/DatabasesConfig.html">DatabasesConfig</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Decodable.html">Decodable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Future.html">Future</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/KeyedCacheSupporting.html">KeyedCacheSupporting</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent2neoiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_q0_tAA15QuerySupportingRzSER0_r1_lF">!=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent2ntoiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_Sayq0_GtAA15QuerySupportingRzSER0_r1_lF">!~(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent1loiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_q0_tAA15QuerySupportingRzSER0_r1_lF">&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent2leoiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_q0_tAA15QuerySupportingRzSER0_r1_lF">&lt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent2eeoiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_q0_tAA15QuerySupportingRzSER0_r1_lF">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent1goiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_q0_tAA15QuerySupportingRzSER0_r1_lF">&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent2geoiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_q0_tAA15QuerySupportingRzSER0_r1_lF">&gt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:6Fluent2ttoiyAA14FilterOperatorVyxq_Gs7KeyPathCyq_q0_G_Sayq0_GtAA15QuerySupportingRzSER0_r1_lF">~~(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/AnyMigration.html">AnyMigration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/AnyModel.html">AnyModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols.html#/s:6Fluent2IDP">ID</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/JoinSupporting.html">JoinSupporting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Migration.html">Migration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/MigrationSupporting.html">MigrationSupporting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Model.html">Model</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ModifiablePivot.html">ModifiablePivot</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Pivot.html">Pivot</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/QuerySupporting.html">QuerySupporting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SchemaBuilder.html">SchemaBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SchemaSupporting.html">SchemaSupporting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/TransactionSupporting.html">TransactionSupporting</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Children.html">Children</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/FilterOperator.html">FilterOperator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/FluentError.html">FluentError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/FluentProperty.html">FluentProperty</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/MigrationConfig.html">MigrationConfig</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Parent.html">Parent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Siblings.html">Siblings</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>QueryBuilder</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">Result</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">Database</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/QuerySupporting.html">QuerySupporting</a></span></code></pre>

                </div>
              </div>
            <p>Helper for constructing and executing <code>Database.Query</code>s.</p>

<p>Query builder has methods like <code>all()</code>, <code>first()</code>, and <code>chunk(max:closure:)</code> for fetching data. Use the
<code>filter(...)</code> methods combined with operators like <code>==</code> and <code>&gt;=</code> to filter the result set.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span><span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">"Vapor"</span><span class="p">)</span><span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>

<p>Use the <code>query(on:)</code> on <code><a href="../Protocols/Model.html">Model</a></code> to create a <code>QueryBuilder</code> for a model.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5query0B0Qzvp"></a>
                    <a name="//apple_ref/swift/Property/query" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5query0B0Qzvp">query</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>DatabaseQuery</code> being built.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">query</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">Query</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder.swift#L11">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC10connection3NIO15EventLoopFutureCy10ConnectionQzGvp"></a>
                    <a name="//apple_ref/swift/Property/connection" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC10connection3NIO15EventLoopFutureCy10ConnectionQzGvp">connection</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The connection this query will be excuted on.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    Avoid using the connection manually.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">connection</span><span class="p">:</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Database</span><span class="o">.</span><span class="kt">Connection</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder.swift#L15">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Join"></a>
                <a name="//apple_ref/swift/Section/Join" class="dashAnchor"></a>
                <a href="#/Join">
                  <h3 class="section-name">Join</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCA2A14JoinSupportingRzrlE4join_2to6methodACyxq_GXDs7KeyPathCyqd__qd_0_G_AJyqd_1_qd_2_G0bD6MethodQztr2_lF"></a>
                    <a name="//apple_ref/swift/Method/join(_:to:method:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCA2A14JoinSupportingRzrlE4join_2to6methodACyxq_GXDs7KeyPathCyqd__qd_0_G_AJyqd_1_qd_2_G0bD6MethodQztr2_lF">join(_:to:method:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Joins another model to this query builder. You can filter your existing query by joined models.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="kt">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="o">.</span><span class="n">cat</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">users</span><span class="p">)</span> <span class="c1">// Future&lt;[User]&gt;</span>
</code></pre>

<p>You can also decode joined models from the result set.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">usersAndPets</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="kt">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="o">.</span><span class="n">cat</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">alsoDecode</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">usersAndPets</span><span class="p">)</span> <span class="c1">// Future&lt;[(User, Pet)]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">join</span><span class="o">&lt;</span><span class="kt">A</span><span class="p">,</span> <span class="kt">B</span><span class="p">,</span> <span class="kt">C</span><span class="p">,</span> <span class="kt">D</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">joinedKey</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">A</span><span class="p">,</span> <span class="kt">B</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to</span> <span class="nv">baseKey</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">C</span><span class="p">,</span> <span class="kt">D</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">method</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryJoinMethod</span> <span class="o">=</span> <span class="kt">Database</span><span class="o">.</span><span class="n">queryJoinMethodDefault</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>joinedKey</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Key from new model to join to this query.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>baseKey</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Field on existing model to use while joining. The value in this field should match values from the other model&rsquo;s field.
       This can be a key from the query builder&rsquo;s type, or a previously joined model.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Join method to use. Uses the database&rsquo;s default join method if none is supplied.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Self for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/Join/QueryBuilder+Join.swift#L27-L30">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Aggregate"></a>
                <a name="//apple_ref/swift/Section/Aggregate" class="dashAnchor"></a>
                <a href="#/Aggregate">
                  <h3 class="section-name">Aggregate</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC3sumy3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/sum(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC3sumy3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF">sum(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the sum of all entries for the supplied field.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">totalLikes</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">sum</span><span class="p">(\</span><span class="o">.</span><span class="n">likes</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">sum</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Field to sum.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the sum.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Aggregate.swift#L11-L13">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC7averagey3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/average(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC7averagey3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF">average(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the average of all entries for the supplied field.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">averageLikes</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">average</span><span class="p">(\</span><span class="o">.</span><span class="n">likes</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">average</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Field to average.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the average.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Aggregate.swift#L22-L24">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC3miny3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/min(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC3miny3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF">min(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the minimum value of all entries for the supplied field.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">leastLikes</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">min</span><span class="p">(\</span><span class="o">.</span><span class="n">likes</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">min</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Field to find min for.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the min.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Aggregate.swift#L33-L35">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC3maxy3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/max(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC3maxy3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF">max(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the maximum value of all entries for the supplied field.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">mostLikes</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">max</span><span class="p">(\</span><span class="o">.</span><span class="n">likes</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">max</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Field to find max for.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the max.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Aggregate.swift#L44-L46">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC9aggregate_5field2as3NIO15EventLoopFutureCyqd__G0B9AggregateQz_s7KeyPathCyq_qd_0_Gqd__mtSeRd__r0_lF"></a>
                    <a name="//apple_ref/swift/Method/aggregate(_:field:as:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC9aggregate_5field2as3NIO15EventLoopFutureCyqd__G0B9AggregateQz_s7KeyPathCyq_qd_0_Gqd__mtSeRd__r0_lF">aggregate(_:field:as:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Perform an aggregate action on the supplied field. Normally you will use one of
the convenience methods like <code><a href="../Classes/QueryBuilder.html#/s:6Fluent12QueryBuilderC3miny3NIO15EventLoopFutureCyqd__Gs7KeyPathCyq_qd__GSeRd__lF">min(...)</a></code> or <code><a href="../Classes/QueryBuilder.html#/s:6Fluent12QueryBuilderC5count3NIO15EventLoopFutureCySiGyF">count(...)</a></code> instead.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">mostLikes</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">aggregate</span><span class="p">(</span><span class="o">.</span><span class="n">max</span><span class="p">,</span> <span class="nv">field</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">likes</span><span class="p">,</span> <span class="nv">as</span><span class="p">:</span> <span class="kt">Int</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">aggregate</span><span class="o">&lt;</span><span class="kt">D</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">method</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryAggregate</span><span class="p">,</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="k">as</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">D</span><span class="o">.</span><span class="k">Type</span> <span class="o">=</span> <span class="kt">D</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">D</span><span class="o">&gt;</span>
    <span class="k">where</span> <span class="kt">D</span><span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Aggregate method to use.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Field to find max for.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>type</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>Decodable</code> type to decode the aggregate value as.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the aggregate.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Aggregate.swift#L58-L62">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5count3NIO15EventLoopFutureCySiGyF"></a>
                    <a name="//apple_ref/swift/Method/count()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5count3NIO15EventLoopFutureCySiGyF">count()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the number of results for this query.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">numPosts</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">count</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">count</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the count.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Aggregate.swift#L69-L71">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/CRUD"></a>
                <a name="//apple_ref/swift/Section/CRUD" class="dashAnchor"></a>
                <a href="#/CRUD">
                  <h3 class="section-name">CRUD</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6create4data3NIO15EventLoopFutureCyytGqd___tSERd__lF"></a>
                    <a name="//apple_ref/swift/Method/create(data:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6create4data3NIO15EventLoopFutureCyytGqd___tSERd__lF">create(data:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Performs an <code>create</code> action on the database with the supplied data.</p>
<pre class="highlight swift"><code><span class="c1">// creates a new User with custom data.</span>
<span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"Vapor"</span><span class="p">])</span>
</code></pre>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>This method will not invoke model lifecycle hooks.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">create</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">E</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">E</span> <span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>data</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Encodable data to create.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> that will be completed when the create is done.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+CRUD.swift#L14-L16">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6update4data3NIO15EventLoopFutureCyytGqd___tSERd__lF"></a>
                    <a name="//apple_ref/swift/Method/update(data:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6update4data3NIO15EventLoopFutureCyytGqd___tSERd__lF">update(data:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Performs an <code>update</code> action on the database with the supplied data.</p>
<pre class="highlight swift"><code><span class="c1">// set all users' names to "Vapor"</span>
<span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"Vapor"</span><span class="p">])</span>
</code></pre>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>This method will not invoke model lifecycle hooks.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">update</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">E</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">E</span> <span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>data</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Encodable data to update.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> that will be completed when the update is done.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+CRUD.swift#L28-L30">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6update_2toACyxq_GXDs7KeyPathCyq_qd__G_qd__tSERd__lF"></a>
                    <a name="//apple_ref/swift/Method/update(_:to:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6update_2toACyxq_GXDs7KeyPathCyq_qd__G_qd__tSERd__lF">update(_:to:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets a single key-value pair to be updated when the query is run.</p>
<pre class="highlight swift"><code><span class="kt">Planet</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">update</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="s">"Earth"</span><span class="p">)</span><span class="o">.</span><span class="nf">update</span><span class="p">(\</span><span class="o">.</span><span class="n">galaxyID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="nf">run</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">update</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>KeyPath of field to update.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Encodable value to update field to.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>Self</code> for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+CRUD.swift#L52-L56">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6delete5force3NIO15EventLoopFutureCyytGSb_tF"></a>
                    <a name="//apple_ref/swift/Method/delete(force:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6delete5force3NIO15EventLoopFutureCyytGSb_tF">delete(force:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Deletes all entities that would be fetched by this query.</p>
<pre class="highlight swift"><code><span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">"foo"</span><span class="p">)</span><span class="o">.</span><span class="nf">delete</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">delete</span><span class="p">(</span><span class="nv">force</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> that will be completed when the delete is done.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+CRUD.swift#L63-L70">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE7restore3NIO15EventLoopFutureCyytGyF"></a>
                    <a name="//apple_ref/swift/Method/restore()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE7restore3NIO15EventLoopFutureCyytGyF">restore()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Restores all soft-deleted entities that would be fetched by this query.</p>
<pre class="highlight swift"><code><span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">,</span> <span class="nv">withSoftDeleted</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span><span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">"foo"</span><span class="p">)</span><span class="o">.</span><span class="nf">restore</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">restore</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> that will be completed when the delete is done.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+CRUD.swift#L77-L86">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Decode"></a>
                <a name="//apple_ref/swift/Section/Decode" class="dashAnchor"></a>
                <a href="#/Decode">
                  <h3 class="section-name">Decode</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC10alsoDecodeyACyxq__qd__tGqd__mAA5ModelRd__lF"></a>
                    <a name="//apple_ref/swift/Method/alsoDecode(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC10alsoDecodeyACyxq__qd__tGqd__mAA5ModelRd__lF">alsoDecode(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds an additional type <code>D</code> to be decoded when run.
The new result for this query will be a tuple containing the previous result and this new result.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">joined</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="kt">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">alsoDecode</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span> <span class="c1">// Future&lt;[(User, Pet)]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">alsoDecode</span><span class="o">&lt;</span><span class="kt">M</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">M</span><span class="o">.</span><span class="k">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="p">(</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">M</span><span class="p">)</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">M</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/Model.html">Model</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>type</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>New model type <code>D</code> to also decode.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>QueryBuilder</code> decoding type <code>(Result, D)</code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Decode.swift#L16-L18">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC10alsoDecodeyACyxq__qd__tGqd__m_SStSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/alsoDecode(_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC10alsoDecodeyACyxq__qd__tGqd__m_SStSeRd__lF">alsoDecode(_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds an additional type <code>D</code> to be decoded when run.
The new result for this query will be a tuple containing the previous result and this new result.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">joined</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="kt">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">alsoDecode</span><span class="p">(</span><span class="kt">PetDetail</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="s">"pets"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span> <span class="c1">// Future&lt;[(User, PetDetail)]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">alsoDecode</span><span class="o">&lt;</span><span class="kt">D</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">D</span><span class="o">.</span><span class="k">Type</span><span class="p">,</span> <span class="n">_</span> <span class="nv">entity</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="p">(</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">D</span><span class="p">)</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">D</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>type</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>New decodable type <code>D</code> to also decode.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>entity</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Entity name of this decodable type.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>QueryBuilder</code> decoding type <code>(Result, D)</code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Decode.swift#L33-L37">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6decodeyACyxqd__Gqd__mAA5ModelRd__lF"></a>
                    <a name="//apple_ref/swift/Method/decode(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6decodeyACyxqd__Gqd__mAA5ModelRd__lF">decode(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets the query to decode <code><a href="../Protocols/Model.html">Model</a></code> type <code>D</code> when run. The <code><a href="../Protocols/Model.html">Model</a></code>&lsquo;s entity will be used.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">joined</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">field</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span> <span class="c1">// Future&lt;[Pet]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">decode</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Model.html">Model</a></span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">type</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Model.html">Model</a></span><span class="o">.</span><span class="k">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt"><a href="../Protocols/Model.html">Model</a></span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt"><a href="../Protocols/Model.html">Model</a></span> <span class="p">:</span> <span class="kt"><a href="../Protocols/Model.html">Model</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>type</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>New decodable type <code>D</code> to decode.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>QueryBuilder</code> decoding type <code>D</code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Decode.swift#L50-L52">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6decode4data_ACyxqd__Gqd__m_SStSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/decode(data:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6decode4data_ACyxqd__Gqd__m_SStSeRd__lF">decode(data:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets the query to decode <code>Decodable</code> type <code>D</code> when run. The data will be decoded from the supplied entity.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">joined</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">field</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="s">"pets"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span> <span class="c1">// Future&lt;[Pet]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">decode</span><span class="o">&lt;</span><span class="kt">D</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">D</span><span class="o">.</span><span class="k">Type</span><span class="p">,</span> <span class="n">_</span> <span class="nv">entity</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">D</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">D</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>type</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>New decodable type <code>D</code> to decode.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>entity</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Table or collection to decode from.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>QueryBuilder</code> decoding type <code>D</code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Decode.swift#L66-L70">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC9decodeRawACyx6OutputQzGyF"></a>
                    <a name="//apple_ref/swift/Method/decodeRaw()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC9decodeRawACyx6OutputQzGyF">decodeRaw()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets the query to decode raw output from the database when run.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">raw</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span><span class="o">.</span><span class="nf">decodeRaw</span><span class="p">()</span><span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span> <span class="c1">// Future&lt;[MySQLColumn: MySQLData]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">decodeRaw</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">Output</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Decode.swift#L77-L81">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCA2A5ModelR_rlE6decode4dataACyxqd__Gqd__m_tSeRd__lF"></a>
                    <a name="//apple_ref/swift/Method/decode(data:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCA2A5ModelR_rlE6decode4dataACyxqd__Gqd__m_tSeRd__lF">decode(data:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets the query to decode <code>Decodable</code> type <code>D</code> when run. This data type will be decoded from
the current Model&rsquo;s entity.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">joined</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">field</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span> <span class="c1">// Future&lt;[Pet]&gt;</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">decode</span><span class="o">&lt;</span><span class="kt">D</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span> <span class="nv">type</span><span class="p">:</span> <span class="kt">D</span><span class="o">.</span><span class="k">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">D</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">D</span> <span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>type</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>New decodable type <code>D</code> to decode.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>QueryBuilder</code> decoding type <code>D</code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Decode.swift#L123-L125">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Filter"></a>
                <a name="//apple_ref/swift/Section/Filter" class="dashAnchor"></a>
                <a href="#/Filter">
                  <h3 class="section-name">Filter</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6filteryACyxq_GXDs7KeyPathCyq_qd__G_0B12FilterMethodQzqd__tSERd__lF"></a>
                    <a name="//apple_ref/swift/Method/filter(_:_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6filteryACyxq_GXDs7KeyPathCyq_qd__G_0B12FilterMethodQzqd__tSERd__lF">filter(_:_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies a filter to this query. Usually you will use the filter operators to do this.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="o">.</span><span class="n">equal</span><span class="p">,</span> <span class="s">"Vapor"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="n">filter</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">_</span> <span class="nv">method</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryFilterMethod</span><span class="p">,</span> <span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span>
    <span class="k">where</span> <span class="kt">T</span><span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Swift <code>KeyPath</code> to a field on the model to filter.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Query filter method type to use.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Value to filter by.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Filter.swift#L16-L24">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6filteryACyxq_GXDs7KeyPathCyqd__qd_0_G_0B12FilterMethodQzqd_0_tSERd_0_r0_lF"></a>
                    <a name="//apple_ref/swift/Method/filter(_:_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6filteryACyxq_GXDs7KeyPathCyqd__qd_0_G_0B12FilterMethodQzqd_0_tSERd_0_r0_lF">filter(_:_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies a filter to this query for a joined entity. Usually you will use the filter operators to do this.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(</span><span class="kt">Pet</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="o">.</span><span class="n">equal</span><span class="p">,</span> <span class="o">.</span><span class="n">cat</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="n">filter</span><span class="o">&lt;</span><span class="kt">A</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">A</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">_</span> <span class="nv">method</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryFilterMethod</span><span class="p">,</span> <span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span>
    <span class="k">where</span> <span class="kt">T</span><span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Swift <code>KeyPath</code> to a field on the model to filter.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Query filter method type to use.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Value to filter by.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Filter.swift#L39-L47">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6filteryACyxq_GXD0B5FieldQz_0B12FilterMethodQzqd__tSERd__lF"></a>
                    <a name="//apple_ref/swift/Method/filter(_:_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6filteryACyxq_GXD0B5FieldQz_0B12FilterMethodQzqd__tSERd__lF">filter(_:_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies a filter to this query using a custom field. Usually you will use the filter operators to do this.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">filter</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="o">.</span><span class="n">equal</span><span class="p">,</span> <span class="s">"Vapor"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="n">filter</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">field</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryField</span><span class="p">,</span> <span class="n">_</span> <span class="nv">method</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryFilterMethod</span><span class="p">,</span> <span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span>
    <span class="k">where</span> <span class="kt">T</span><span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>field</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Name to a field on the model to filter.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Query filter method type to use.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>value</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Value to filter by.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Filter.swift#L61-L69">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6filter6customACyxq_GXD0B6FilterQz_tF"></a>
                    <a name="//apple_ref/swift/Method/filter(custom:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6filter6customACyxq_GXD0B6FilterQz_tF">filter(custom:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Add a manually created filter to the query builder.</p>
<pre class="highlight swift"><code><span class="n">builder</span><span class="o">.</span><span class="nf">filter</span><span class="p">(</span><span class="nv">custom</span><span class="p">:</span> <span class="o">...</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">filter</span><span class="p">(</span><span class="n">custom</span> <span class="nv">filter</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryFilter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Filter.swift#L93-L96">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Filter%20Group"></a>
                <a name="//apple_ref/swift/Section/Filter Group" class="dashAnchor"></a>
                <a href="#/Filter%20Group">
                  <h3 class="section-name">Filter Group</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5group_7closureACyxq_GXD0B14FilterRelationQz_yAFKctKF"></a>
                    <a name="//apple_ref/swift/Method/group(_:closure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5group_7closureACyxq_GXD0B14FilterRelationQz_yAFKctKF">group(_:closure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a sub group for this query. This is useful for grouping multiple filters by <code>.or</code> instead of <code>.and</code>.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">group</span><span class="p">(</span><span class="o">.</span><span class="n">or</span><span class="p">)</span> <span class="p">{</span> <span class="n">or</span> <span class="k">in</span>
    <span class="n">or</span><span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">)</span>
    <span class="n">or</span><span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">65</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">group</span><span class="p">(</span><span class="n">_</span> <span class="nv">relation</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryFilterRelation</span><span class="p">,</span> <span class="nv">closure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">QueryBuilder</span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">Result</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="p">())</span> <span class="k">rethrows</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>relation</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>.and</code> or <code>.or</code> relation for the filters added in the closure.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>closure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A sub-query builder to use for adding grouped filters.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Filter.swift#L112-L128">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Model"></a>
                <a name="//apple_ref/swift/Section/Model" class="dashAnchor"></a>
                <a href="#/Model">
                  <h3 class="section-name">Model</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE4savey3NIO15EventLoopFutureCyq_Gq_F"></a>
                    <a name="//apple_ref/swift/Method/save(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE4savey3NIO15EventLoopFutureCyq_Gq_F">save(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Saves the supplied model. Calls <code><a href="../Classes/QueryBuilder.html#/s:6Fluent12QueryBuilderC6create4data3NIO15EventLoopFutureCyytGqd___tSERd__lF">create(...)</a></code> if the ID is <code>nil</code>, and <code><a href="../Classes/QueryBuilder.html#/s:6Fluent12QueryBuilderC6update4data3NIO15EventLoopFutureCyytGqd___tSERd__lF">update(...)</a></code> if it exists.
If you need to create a model with a pre-existing ID, call <code><a href="../Classes/QueryBuilder.html#/s:6Fluent12QueryBuilderC6create4data3NIO15EventLoopFutureCyytGqd___tSERd__lF">create(...)</a></code> instead.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">user</span> <span class="o">=</span> <span class="kt">User</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">save</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">save</span><span class="p">(</span><span class="n">_</span> <span class="nv">model</span><span class="p">:</span> <span class="kt">Result</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>model</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Protocols/Model.html">Model</a></code> to save.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the saved <code><a href="../Protocols/Model.html">Model</a></code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Model.swift#L13-L19">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6createy3NIO15EventLoopFutureCyq_Gq_F"></a>
                    <a name="//apple_ref/swift/Method/create(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6createy3NIO15EventLoopFutureCyq_Gq_F">create(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Saves this model as a new item in the database.
This method can auto-generate an ID depending on ID type.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">user</span> <span class="o">=</span> <span class="kt">User</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">create</span><span class="p">(</span><span class="n">_</span> <span class="nv">model</span><span class="p">:</span> <span class="kt">Result</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>model</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Protocols/Model.html">Model</a></code> to create.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the created <code><a href="../Protocols/Model.html">Model</a></code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Model.swift#L30-L66">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6update_10originalID3NIO15EventLoopFutureCyq_Gq__0H0Qy_SgtF"></a>
                    <a name="//apple_ref/swift/Method/update(_:originalID:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderCAA8DatabaseQy_RszAA5ModelR_rlE6update_10originalID3NIO15EventLoopFutureCyq_Gq__0H0Qy_SgtF">update(_:originalID:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Updates the model. This requires that the model has its ID set.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">user</span><span class="p">:</span> <span class="kt">User</span> <span class="o">=</span> <span class="o">...</span>
<span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="nv">originalID</span><span class="p">:</span> <span class="mi">42</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="n">_</span> <span class="nv">model</span><span class="p">:</span> <span class="kt">Result</span><span class="p">,</span> <span class="nv">originalID</span><span class="p">:</span> <span class="kt">Result</span><span class="o">.</span><span class="kt"><a href="../Protocols.html#/s:6Fluent2IDP">ID</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Result</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>model</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Protocols/Model.html">Model</a></code> to update.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>originalID</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Specify the original ID if the ID has changed.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the created <code><a href="../Protocols/Model.html">Model</a></code>.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Model.swift#L77-L105">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6filteryACyxq_GXDAA14FilterOperatorVyxq_GF"></a>
                    <a name="//apple_ref/swift/Method/filter(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6filteryACyxq_GXDAA14FilterOperatorVyxq_GF">filter(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies a filter from one of the filter operators (==, !=, etc).</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">"Vapor"</span><span class="p">)</span><span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method is generic, allowing you to omit type names
    when filtering using key paths.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">filter</span><span class="p">(</span><span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt"><a href="../Structs/FilterOperator.html">FilterOperator</a></span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">Result</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Operators.swift#L9-L11">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC6filteryACyxq_GXDAA14FilterOperatorVyxqd__GlF"></a>
                    <a name="//apple_ref/swift/Method/filter(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC6filteryACyxq_GXDAA14FilterOperatorVyxqd__GlF">filter(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies a filter from one of the filter operators (==, !=, etc) to a joined model.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">usersWithCats</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">join</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">userID</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="kt">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">filter</span><span class="p">(\</span><span class="kt">Pet</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="o">.</span><span class="n">cat</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method is generic, allowing you to omit type names
    when filtering using key paths.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="n">filter</span><span class="o">&lt;</span><span class="kt">A</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt"><a href="../Structs/FilterOperator.html">FilterOperator</a></span><span class="o">&lt;</span><span class="kt">Database</span><span class="p">,</span> <span class="kt">A</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Operators.swift#L23-L25">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Range"></a>
                <a name="//apple_ref/swift/Section/Range" class="dashAnchor"></a>
                <a href="#/Range">
                  <h3 class="section-name">Range</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDSnySiGF"></a>
                    <a name="//apple_ref/swift/Method/range(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDSnySiGF">range(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Limits the results of this query to the specified range.</p>
<pre class="highlight swift"><code><span class="n">query</span><span class="o">.</span><span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="o">..&lt;</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// returns at most 3 results, offset by 2</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">range</span><span class="p">(</span><span class="n">_</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">Range</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Range.swift#L9-L11">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDs19PartialRangeThroughVySiGF"></a>
                    <a name="//apple_ref/swift/Method/range(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDs19PartialRangeThroughVySiGF">range(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Limits the results of this query to the specified range.</p>
<pre class="highlight swift"><code><span class="n">query</span><span class="o">.</span><span class="nf">range</span><span class="p">(</span><span class="o">...</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// returns at most 6 results</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">range</span><span class="p">(</span><span class="n">_</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">PartialRangeThrough</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Range.swift#L18-L20">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDs16PartialRangeUpToVySiGF"></a>
                    <a name="//apple_ref/swift/Method/range(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDs16PartialRangeUpToVySiGF">range(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Limits the results of this query to the specified range.</p>
<pre class="highlight swift"><code><span class="n">query</span><span class="o">.</span><span class="nf">range</span><span class="p">(</span><span class="o">..&lt;</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// returns at most 5 results</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">range</span><span class="p">(</span><span class="n">_</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">PartialRangeUpTo</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Range.swift#L27-L29">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDs16PartialRangeFromVySiGF"></a>
                    <a name="//apple_ref/swift/Method/range(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDs16PartialRangeFromVySiGF">range(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Limits the results of this query to the specified range.</p>
<pre class="highlight swift"><code><span class="n">query</span><span class="o">.</span><span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="o">...</span><span class="p">)</span> <span class="c1">// offsets the result by 5</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">range</span><span class="p">(</span><span class="n">_</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">PartialRangeFrom</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Range.swift#L36-L38">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDSNySiGF"></a>
                    <a name="//apple_ref/swift/Method/range(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5rangeyACyxq_GXDSNySiGF">range(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Limits the results of this query to the specified range.</p>
<pre class="highlight swift"><code><span class="n">query</span><span class="o">.</span><span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="o">..&lt;</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// returns at most 3 results, offset by 2</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">range</span><span class="p">(</span><span class="n">_</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">ClosedRange</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Range.swift#L45-L47">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5range5lower5upperACyxq_GXDSi_SiSgtF"></a>
                    <a name="//apple_ref/swift/Method/range(lower:upper:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5range5lower5upperACyxq_GXDSi_SiSgtF">range(lower:upper:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Limits the results of this query to the specified range.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">range</span><span class="p">(</span><span class="nv">lower</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">upper</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>lower</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Amount to offset the query by.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>upper</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>upper</code> - <code>lower</code> = maximum results.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Range.swift#L55-L58">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Run"></a>
                <a name="//apple_ref/swift/Section/Run" class="dashAnchor"></a>
                <a href="#/Run">
                  <h3 class="section-name">Run</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC3all3NIO15EventLoopFutureCySayq_GGyF"></a>
                    <a name="//apple_ref/swift/Method/all()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC3all3NIO15EventLoopFutureCySayq_GGyF">all()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Runs the query, collecting all of the results into an array.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">all</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">all</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">Result</span><span class="p">]</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the results.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Run.swift#L9-L16">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5first3NIO15EventLoopFutureCyq_SgGyF"></a>
                    <a name="//apple_ref/swift/Method/first()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5first3NIO15EventLoopFutureCyq_SgGyF">first()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the first result of the query or <code>nil</code> if no results were returned.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">first</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">first</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">?</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> containing the first result, if one exists.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Run.swift#L23-L25">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC5chunk3max7closure3NIO15EventLoopFutureCyytGSi_ySayq_GKctF"></a>
                    <a name="//apple_ref/swift/Method/chunk(max:closure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC5chunk3max7closure3NIO15EventLoopFutureCyytGSi_ySayq_GKctF">chunk(max:closure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience for chunking model results.</p>
<pre class="highlight swift"><code><span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">chunk</span><span class="p">(</span><span class="nv">max</span><span class="p">:</span> <span class="mi">32</span><span class="p">)</span> <span class="p">{</span> <span class="n">chunk</span> <span class="k">in</span>
    <span class="c1">// handle chunk of 32 or less users</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">chunk</span><span class="p">(</span><span class="nv">max</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">closure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt">Result</span><span class="p">])</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="p">())</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>max</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Maximum number of entities to include in a single chunk.
   Actual number in chunk may be less than this number if the result set
   is not evenly divisible by the supplied number.
   Note that 0 size chunks may also be supplied.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>closure</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Handles chunks as they are received.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> that will be completed when all chunks have been handled.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Run.swift#L40-L54">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC3run_4into3NIO15EventLoopFutureCyytG0B6ActionQzSg_yq_KctF"></a>
                    <a name="//apple_ref/swift/Method/run(_:into:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC3run_4into3NIO15EventLoopFutureCyytG0B6ActionQzSg_yq_KctF">run(_:into:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Runs the `QueryBuilder&rsquo;s query, decoding results into the handler.</p>
<pre class="highlight swift"><code><span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span><span class="o">.</span><span class="n">run</span> <span class="p">{</span> <span class="n">user</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">run</span><span class="p">(</span><span class="n">_</span> <span class="nv">action</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QueryAction</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">into</span> <span class="nv">handler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Result</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>handler</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Optional closure to handle results.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Future</code> that will be completed when the query has finished.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Run.swift#L65-L71">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Sort"></a>
                <a name="//apple_ref/swift/Section/Sort" class="dashAnchor"></a>
                <a href="#/Sort">
                  <h3 class="section-name">Sort</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC4sortyACyxq_GXDs7KeyPathCyq_qd__G_0B13SortDirectionQztlF"></a>
                    <a name="//apple_ref/swift/Method/sort(_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC4sortyACyxq_GXDs7KeyPathCyq_qd__G_0B13SortDirectionQztlF">sort(_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Add a sort to the query builder for a field.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">users</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">query</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">conn</span><span class="p">)</span><span class="o">.</span><span class="nf">sort</span><span class="p">(\</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="o">.</span><span class="n">ascending</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">sort</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Result</span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">_</span> <span class="nv">direction</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QuerySortDirection</span> <span class="o">=</span> <span class="kt">Database</span><span class="o">.</span><span class="n">querySortDirectionAscending</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>key</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Swift <code>KeyPath</code> to field on model to sort.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>direction</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Direction to sort the fields, ascending or descending.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Sort.swift#L12-L14">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Fluent12QueryBuilderC4sortyACyxq_GXD0B4SortQzF"></a>
                    <a name="//apple_ref/swift/Method/sort(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Fluent12QueryBuilderC4sortyACyxq_GXD0B4SortQzF">sort(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds a custom sort to the query builder.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">sort</span><span class="p">(</span><span class="n">_</span> <span class="nv">sort</span><span class="p">:</span> <span class="kt">Database</span><span class="o">.</span><span class="kt">QuerySort</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>sort</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Custom sort to add.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Query builder for chaining.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/fluent/tree/3.0.0/Sources/Fluent/QueryBuilder/QueryBuilder+Sort.swift#L21-L24">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2018 <a class="link" href="https://vapor.codes" target="_blank" rel="external">Vapor</a>. All rights reserved. (Last updated: 2018-07-16)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
